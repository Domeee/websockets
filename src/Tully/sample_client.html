<!DOCTYPE html>
<html>

<head>

    <title>Tully WebSocket javascript client</title>

    <script type="text/javascript">
        function WebSocketTest() {
            if ("WebSocket" in window) {

                alert("WebSocket is supported by your browser!");

                // TODO: Update host
                var host = "ws://192.168.1.68:80";
                var ws = new WebSocket(host);

                ws.onopen = function() {
                    alert('Connection is open');
                    //ws.send("Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliq");
                    ws.send("Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna alis");
                    alert("Sent: Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna ali");
                };

                ws.onclose = function() {
                    alert("Connection is closed");
                };

            } else {
                // The browser doesn't support WebSocket
                alert("WebSocket NOT supported by your Browser!");
            }
        }
    </script>

</head>

<body>
    <a href="javascript:WebSocketTest()">Run WebSocket</a>
</body>

</html>